# 🎙️ リアルタイム翻訳ツール / Real-Time Translation Tool

[English](README_EN.md) | 日本語

OBS Studio用のリアルタイム日英相互翻訳ツールです。  
マイクの音声を自動で認識し、日本語⇔英語の翻訳をリアルタイムで字幕表示します。

## 🙏 クレジット / Credits

本ツールを使用する際、可能であれば以下のクレジット表記をしていただけると嬉しいです：  
**"リアルタイム翻訳ツール by minta" または "Real-Time Translator by minta"**

※クレジット表記は任意です。多くの方に使っていただくことが一番の喜びです！

## 📋 目次
- [必要なもの](#必要なもの)
- [インストール方法](#インストール方法)
- [使用方法](#使用方法)
- [OBSでの設定](#obsでの設定)
- [トラブルシューティング](#トラブルシューティング)
- [注意事項](#注意事項)

---

## 🔧 必要なもの

### 1. Python（プログラミング言語）
- **Python 3.8以上**が必要です
- [Python公式サイト](https://www.python.org/downloads/)からダウンロード
- ⚠️ **重要**: インストール時に「Add Python to PATH」にチェックを入れてください

### 2. 必要なライブラリ
このツールは以下のライブラリを自動でインストールします：
- **OpenAI (v0.28.1)**: 音声認識と翻訳のためのAIライブラリ
- **PyAudio**: マイクから音声を録音するためのライブラリ

### 3. OpenAI APIキー
- [OpenAI公式サイト](https://platform.openai.com/api-keys)でアカウント作成
- APIキーを取得（有料サービスです）
- 💰 **料金**: 使用分だけ課金（5分程度の利用で数円程度）

⚠️ **APIキーの取り扱いに関する重要な注意**:
- APIキーは**パスワードと同じくらい重要**です
- 絶対に他人と共有しないでください
- GitHubなどに誤ってアップロードしないよう注意
- 現在のバージョンではキーは保存されません（毎回入力が必要）

### 4. マイク
- PCに接続されたマイク（内蔵マイクでもOK）
- **推奨**: 外付USBマイクまたはBluetoothマイク（高音質・認識精度向上）

### 5. OBS Studio（配信ソフト）
- [OBS Studio公式サイト](https://obsproject.com/)からダウンロード
- 無料です

---

## 💾 インストール方法

### ステップ1: ファイルをダウンロード
1. 以下のファイルをダウンロードして、同じフォルダに保存してください：
   - `translate.py`
   - `simple_installer.bat`

### ステップ2: マイクの設定
#### 基本設定
1. **設定** → **プライバシー** → **マイク**
2. 「アプリがマイクにアクセスすることを許可する」をオンにする

#### マイクデバイスの選択
1. **設定** → **システム** → **サウンド**
2. **入力** → **入力デバイスを選択してください**
3. 使用したいマイクを選択（✓マークが付いたものが使用されます）

#### 外付マイクを使用する場合
- **USBマイク**: 接続すると自動的にデフォルトになることが多い
- **Bluetoothマイク**: ペアリング後、手動でデフォルト設定が必要な場合がある  
- **3.5mmマイク**: 手動でデフォルト設定が必要な場合がある
- ⚠️ **重要**: マイク変更後は翻訳ツールを再起動してください

---

## 🚀 使用方法

### 詳細な使用方法（ステップバイステップ）

#### ステップ1：ツールの起動
1. 「translatetool.bat」をダブルクリック
2. 黒い画面が開いて自動でセットアップが始まります
3. 初回は数分かかることがあります（ライブラリのインストール）
4. 翻訳ツールのウィンドウが開きます

#### ステップ2：APIキーの入力
1. 「OpenAI API Key」の入力画面が表示されます
2. あらかじめ取得したAPIキーをコピー＆ペーストで入力
   例：sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
3. 「OK」をクリック

#### ステップ3：翻訳開始
1. 翻訳ツールで「開始」ボタンをクリック
2. マイクに向かって話してください
3. 日本語で話すと英語に翻訳、英語で話すと日本語に翻訳されます
4. 同じフォルダに「subtitle.txt」ファイルが作成されます

#### ステップ4：OBSで字幕表示
1. OBS Studioを開く
2. 「ソース」の「+」ボタンをクリック
3. 「テキスト（GDI+）」を選択
4. 名前を入力（例：「翻訳字幕」）してOK
5. 「ファイルから読み取り」にチェックを入れる
6. 「参照」ボタンをクリック
7. 翻訳ツールと同じフォルダの「subtitle.txt」を選択
8. 文字の大きさや色を調整（推奨：サイズ24-36、色は白）

#### ステップ5：全画面表示（配信時）
1. OBSの画面で右クリック
2. 「全画面プロジェクター（プレビュー）」をクリック
3. 全画面で翻訳字幕付きの映像が表示されます
4. 配信やプレゼンテーションで使用できます

---

## 🚀 使用方法（簡易版）

### 基本的な使い方

#### 1. ツールの起動
1. `simple_installer.bat`をダブルクリック
2. **初回のみ**: 必要なライブラリを自動インストールします（数分かかります）
   - 「Libraries not found. Installing...」と表示されます
   - しばらく待ってください
3. **2回目以降**: 「Libraries already installed!」と表示され、すぐに起動します
4. 翻訳ツールが起動します

#### 2. APIキーの入力
1. 「OpenAI API Key」の入力画面が表示されます
2. 取得したAPIキーを入力してOKをクリック
   - 例: `sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

#### 3. 翻訳開始
1. **「開始」ボタン**をクリック
2. マイクに向かって話してください
3. 5秒ごとに音声を認識して翻訳します
4. 同じフォルダに`subtitle.txt`ファイルが作成されます

#### 4. 翻訳停止
1. **「停止」ボタン**をクリック
2. 翻訳を終了します

---

## 📺 OBSでの設定

### 字幕をOBSに表示する方法

#### 1. テキストソースを追加
1. OBS Studioを開く
2. **「ソース」**の**「+」**をクリック
3. **「テキスト（GDI+）」**を選択
4. 名前を入力（例：「翻訳字幕」）してOK

#### 2. ファイルから読み取り設定
1. **「ファイルから読み取り」**にチェックを入れる
2. **「参照」**ボタンをクリック
3. 翻訳ツールと同じフォルダの**「subtitle.txt」**を選択

#### 3. 表示設定の調整
1. **フォント**: 見やすいフォントを選択（例：メイリオ、Yu Gothic UI）
2. **サイズ**: 24〜36程度
3. **色**: 白または黄色
4. **背景**: 透明または半透明の黒
5. **配置**: 画面下部中央

#### 4. 動作確認
1. 翻訳ツールで「開始」をクリック
2. マイクに向かって話す
3. OBSに翻訳結果が表示されることを確認

---

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### ❌ 「Python not found」エラー
**原因**: Pythonがインストールされていない、またはPATHが設定されていない  
**解決方法**:
1. Pythonを再インストール
2. インストール時に「Add Python to PATH」に必ずチェックを入れる

#### ❌ 「Library installation failed」エラー
**原因**: ライブラリの自動インストールに失敗した  
**解決方法**:
1. `simple_installer.bat`を右クリック
2. 「管理者として実行」を選択
3. 再度実行してみる

#### ❌ 「PyAudio」インストールエラー
**原因**: PyAudio（音声録音ライブラリ）のインストールに失敗  
**解決方法**:
1. コマンドプロンプトを管理者として開く
2. 以下を順番に実行：
   ```
   pip install pipwin
   pipwin install pyaudio
   pip install openai==0.28.1
   ```

#### ❌ マイクの音声が認識されない
**原因**: マイクの設定、音量、権限の問題  
**解決方法**:
1. **マイク接続確認**: 正しく接続されているか確認
2. **デフォルトマイク設定**: 設定 → システム → サウンド → 入力で使用したいマイクを選択
3. **マイク音量調整**: 同じ画面で「デバイスのプロパティ」→ 音量を80%以上に設定
4. **マイクアクセス権限**: 設定 → プライバシー → マイク → 「アプリがマイクにアクセス～」をオン
5. **翻訳ツール再起動**: マイク変更後は必ずツールを再起動
6. **マイクテスト**: 設定画面で「マイクをテストする」で音声レベルを確認

#### ❌ 翻訳結果が表示されない
**原因**: APIキーの問題、ネットワーク接続の問題  
**解決方法**:
1. APIキーが正しく入力されているか確認
2. インターネット接続を確認
3. OpenAIアカウントに料金が設定されているか確認

#### ❌ OBSに字幕が表示されない
**原因**: ファイルパスの設定ミス  
**解決方法**:
1. `subtitle.txt`ファイルが作成されているか確認
2. OBSのテキストソースで正しいファイルを選択しているか確認
3. 「ファイルから読み取り」にチェックが入っているか確認

---

## ⚠️ 注意事項

### 料金について
- **OpenAI APIは有料サービスです**
- 使用した分だけ課金されます
- 目安: 1時間の使用で数十円〜数百円程度
- [料金詳細](https://openai.com/pricing)

### プライバシーについて
- 音声データはOpenAIのサーバーに送信されます
- 機密情報や個人情報を含む会話では使用を控えてください

### システム要件
- **OS**: Windows 10/11
- **CPU**: 一般的なPC（特別な要件なし）
- **メモリ**: 4GB以上推奨
- **ネットワーク**: 安定したインターネット接続

### 💡 使用のコツ

#### 音声認識を良くするために
- 静かな環境で使用する
- マイクに近づいて話す（20-30cm程度）
- はっきりと話す
- 一人ずつ話す
- 長すぎる文章は避ける（30秒以内）

#### 字幕表示を見やすくするために
- 文字サイズは24-36程度
- 文字色は白または黄色
- 背景を半透明の黒にする
- 画面下部に配置

#### 料金を節約するために
- 話さない時間は課金されません
- 必要な時だけ「開始」ボタンを押す
- 目安：1時間使用で数十円～数百円程度

### 音声認識とマイクについて
#### 音声認識の特性
- 翻訳精度は音声の明瞭さと環境音に依存します
- 静かな環境での使用を推奨します
- 複数人が同時に話すと認識精度が下がります

#### マイクの種類と特性
- **内蔵マイク**: 手軽だが環境音を拾いやすい
- **USBマイク**: 音質良好、接続時に自動でデフォルトになりやすい
- **Bluetoothマイク**: ワイヤレスで便利、設定で手動選択が必要な場合あり
- **3.5mmマイク**: 音質は良いが、手動設定が必要な場合が多い

#### マイク使用時の注意点
- ツール起動時のデフォルトマイクが使用されます
- マイク変更後は**必ずツールを再起動**してください
- 複数のマイクが接続されている場合は、Windowsの設定で使用したいマイクを選択してください
- 以下のフレーズは自動的に無視されます（音声認識の誤検出を防ぐため）：
  - 「ご視聴いただきありがとうございます」
  - 「ご覧いただきありがとうございます」
  - 「Thank you for watching」
  - 「Thank you so much for watching」
  - 「愛しています」
- 「ありがとうございます」は通常通り翻訳されます

---

## 🆘 サポート

### 問題が解決しない場合
1. 上記のトラブルシューティングを確認
2. Pythonとライブラリが正しくインストールされているか再確認
3. マイクとネットワーク接続を確認

### 動作環境例
- **Windows 11**
- **Python 3.12**
- **OpenAI API**（有効なアカウント）
- **内蔵マイク**または**USB/3.5mmマイク**

### よくある質問

#### Q: 音声が認識されません
A: マイクの設定を確認してツールを再起動してください

#### Q: 翻訳精度を上げるには？
A: 静かな環境ではっきりと話してください

#### Q: 料金はどのくらいかかりますか？
A: 使用量によりますが、1時間で数十円程度です

---

## 📝 作成者情報

**作成者**: minta with AI  
**バージョン**: 0.1.0  
**対応言語**: 日本語 ⇔ 英語  
**ライセンス**: MIT License

### オープンソース
このプロジェクトはオープンソースです。[GitHubリポジトリ](https://github.com/mintannn/obs-realtime-translator)で公開されています。

### 貢献
プルリクエストや改善提案を歓迎します！詳細は[CONTRIBUTING.md](CONTRIBUTING.md)をご覧ください。

### ライセンス・著作権について
✅ **本プロジェクトは安全にオープンソースとして公開できます**

**使用ライブラリのライセンス状況：**
- **openai (v1.3.0)**: MITライセンス - 自由に使用可能
- **pyaudio (v0.2.11)**: MITライセンス - 自由に使用可能
- **tkinter**: Pythonに含まれる標準ライブラリ - 自由に使用可能
- その他標準ライブラリ: Pythonに含まれる - 自由に使用可能

**著作権について：**
- ✅ コードは完全にオリジナルです
- ✅ 他のプロジェクトからのコピーはありません
- ✅ ライセンス違反の心配はありません
- ✅ 商用利用も可能です

---

## 🎯 使用例

### 配信での使用
1. 英語で話す → 日本語字幕が表示
2. 日本語で話す → 英語字幕が表示
3. 視聴者が両言語で内容を理解できます

### オンライン会議での使用
1. 会議中にリアルタイム翻訳
2. 言語の壁を越えたコミュニケーション

### 専門分野への最適化
**技術用語辞書をカスタマイズすることで、特定分野の翻訳精度を向上できます：**
- **プログラミング配信**: "live coding" → "ライブコーディング"など開発用語を正確に翻訳
- **医療・学術**: 専門用語を登録して正確な通訳を実現
- **ゲーム実況**: ゲーム固有の用語やスラングに対応
- **ビジネス**: 業界用語や社内用語を適切に翻訳

`translate.py`の223行目付近の`tech_terms_dict`を編集することで、簡単にカスタマイズできます。

---

## 💬 フィードバック

本ツールを使用された感想やご意見をぜひお聞かせください！

- **X (Twitter)**: [@mintabbl](https://twitter.com/mintabbl) をフォローして、使用感想をお送りください🌟
- **GitHub Issues**: バグ報告や機能要望は[こちら](https://github.com/mintannn/obs-realtime-translator/issues)
- **GitHub Discussions**: 質問や議論は[こちら](https://github.com/mintannn/obs-realtime-translator/discussions)

配信での使用例や、改善アイデアなど、どんな小さな感想でも励みになります！

---

**🎉 以上で設定完了です！楽しい翻訳ライフをお楽しみください！**